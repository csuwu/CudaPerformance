\documentclass[12pt,oneside,a4paper]{article}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{datetime}

\font\titlefont=cmr12 at 40pt

\title{\titlefont{Matrix Multiplication Runtime}}

\author{M.A.S SURANGA (CST140043)}
\begin{document}

	\maketitle

	\newpage

	\tableofcontents

	\newpage

	\section{CPU Program runtime}

	\par
	This program is executed in normal CPU and $x,y$ values are extracted from the average runtime of each different matrix sizes.
	\hfill \break

	\begin{tikzpicture}
		\begin{axis}[grid=major, grid style={black!20}, width=\linewidth, xlabel=Matrix size,ylabel=Runtime(secs.),legend style={at={(0,-0.3)},anchor=south}]
			\addplot[color=red,mark=x] table[ignore chars={(,)},col sep=comma] {datafile0.dat};
			\addlegendentry{$CPU$}
		\end{axis}
	\end{tikzpicture}

	\newpage

	\section{GPU Global Memory Program(CUDA) runtime}

	\par
	This program is executed in Nvdia GPU (Global memory used) and $x,y$ values are extracted from the average runtime of each different matrix sizes.
	\hfill \break

	\begin{tikzpicture}
		\begin{axis}[grid=major, grid style={black!20}, width=\linewidth, xlabel=Matrix size,ylabel=Runtime(secs.),legend style={at={(0,-0.3)},anchor=south}]
			\addplot[color=green,mark=x] table[ignore chars={(,)},col sep=comma] {datafile1.dat};
			\addlegendentry{$GPU (Global)$}
		\end{axis}
	\end{tikzpicture}

	\newpage

	\section{GPU Shared Memory Program(CUDA) runtime}

	\par
	This program is executed in Nvidia GPU(Shared memory) and $x,y$ values are extracted from the average runtime of each different matrix sizes.
	\hfill \break

	\begin{tikzpicture}
		\begin{axis}[grid=major, grid style={black!20}, width=\linewidth, xlabel=Matrix size,ylabel=Runtime(secs.),legend style={at={(0,-0.3)},anchor=south}]
			\addplot[color=blue,mark=x] table[ignore chars={(,)},col sep=comma] {datafile2.dat};
			\addlegendentry{$GPU (Shared)$}
		\end{axis}
	\end{tikzpicture}

	\newpage

	\section{Comparison and Conclusion}

	\par
	In conclusion The previous plots are compared withing same graph. According the graphs it is proven that GPU Shared memory Program is giving more efficiency than other program types.  
	\hfill \break

	\begin{tikzpicture}
		\begin{axis}[grid=major, grid style={black!20}, width=\linewidth, xlabel=Matrix size,ylabel=Runtime(secs.),legend style={at={(0,-0.3)},anchor=south}]
			\addplot[color=red,mark=x] table[ignore chars={(,)},col sep=comma] {datafile0.dat};
			\addlegendentry{$CPU$}
			\addplot[color=green,mark=x] table[ignore chars={(,)},col sep=comma] {datafile1.dat};
			\addlegendentry{$GPU (Global)$}
			\addplot[color=blue,mark=x] table[ignore chars={(,)},col sep=comma] {datafile2.dat};
			\addlegendentry{$GPU (Shared)$}
		\end{axis}
	\end{tikzpicture}

	\newpage

	\par
	This graph compares the efficiency between shared memory and global memory of GPU.  
	\hfill \break

	\begin{tikzpicture}
		\begin{axis}[grid=major, grid style={black!20}, width=\linewidth, xlabel=Matrix size,ylabel=Runtime(secs.),legend style={at={(0,-0.3)},anchor=south}]
			\addplot[color=green,mark=x] table[ignore chars={(,)},col sep=comma] {datafile1.dat};
			\addlegendentry{$GPU (Global)$}
			\addplot[color=blue,mark=x] table[ignore chars={(,)},col sep=comma] {datafile2.dat};
			\addlegendentry{$GPU (Shared)$}
		\end{axis}
	\end{tikzpicture}

	\newpage

	\par
	This graph compares the efficiency between shared memory and global memory of GPU with the threads per block.  
	\hfill \break

	\begin{tikzpicture}
		\begin{axis}[grid=major, grid style={black!20}, width=\linewidth, xlabel=Threads Per Block,ylabel=Runtime(secs.),legend style={at={(0,-0.3)},anchor=south}]
			\addplot[color=green,mark=x] table[ignore chars={(,)},col sep=comma] {datafile3.dat};
			\addlegendentry{$GPU (Global)$}
			\addplot[color=blue,mark=x] table[ignore chars={(,)},col sep=comma] {datafile4.dat};
			\addlegendentry{$GPU (Shared)$}
		\end{axis}
	\end{tikzpicture}

	\newpage

	\section{References}

	\begin{itemize}
	  \item https://www.tug.org/twg/mactex/tutorials/ltxprimer-1.0.pdf.
	  \item https://gist.github.com/LeCoupa/122b12050f5fb267e75f
	  \item https://tex.stackexchange.com/questions
	\end{itemize}

\end{document}


\grid
\grid
\grid
\grid
